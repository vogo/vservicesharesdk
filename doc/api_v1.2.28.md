# 佣金保-标准版（V1.2.28）

# 文档概述

!> 注：2023 年 3 月 1 日前对接商户请访问 [佣金保-优付版](/youfu ":target=_self")

## 1.1 编写目的

1. 本文档是第三方平台和 佣金保平台对接的重要参考文档
2. 使用前请注意区分生产环境和测试环境，
3. 请及时关注文档变更信息。
4. 磨刀不误砍柴工，一定要通读文档再进行开发。
5. 使用前请注意区分生产环境和测试环境，[测试参数](https://gitee.com/bubibi1/bosskg-demo/blob/master/API-%E5%AF%B9%E6%8E%A5-%E6%B5%8B%E8%AF%95%E5%95%86%E6%88%B7%E4%BF%A1%E6%81%AF.xlsx)及开发 demo 链接如下：

   https://gitee.com/bubibi1/bosskg-demo


## 1.2 专业名词

1. 自由职业者：提供灵活用工服务的人员（即收款人）
2. 服务商：与贵司签订共享经济协议的服务商公司

## 1.3 接口列表funCode 码

| Code                                  | 说明                                        |
|---------------------------------------|-------------------------------------------|
| [6010](#sign_contract6010)            | 自由职业者无感签约                                 |
| [6011](#sign_contract_query6011)      | 自由职业者无感签约查询                               |
| [6026](#sign_h5_save6025)             | 自由职业者H5有感签约                               |
| [6036](#cancel_sign6036)              | 自由职业者解约                                   |
| [6044](#sign_contract_paga_query6044) | 自由职业者签约分页查询                               |
| [6005](#balance_query6005)            | 自由职业者额度查询                                 |
| [6001](#payment6001)                  | 1. 批量付款<br> 2. 服务商批量付款下单<br> 3. 服务商批量付款确认 |
| [6002](#payment_query6002)            | 批量付款查询                                    |
| [6022](#place_payment6022)            | 批次订单上传                                    |
| [6023](#place_payment_query6023)      | 批次订单查询（配合 6022 使用）                        |
| [6029](#all_in_one6029)               | 一键下发                                      |
| [6030](#all_in_one_query6030)         | 一键下发查询                                    |
| [6043](#wechat_payment_cancel6043)    | 撤销转账                                      |
| [6024](#receipt_query6024)            | 电子回单查询                                    |
| [6004](#check_file6004)               | 对账文件下载                                    |
| [6006](#trial_calculate6006)          | 连续劳务试算                                    |
| [6003](#acc_open6003)                 | 账户余额查询                                    |
| [6018](#query_charge_recode6018)      | 查询充值流水                                    |
| [6020](#apply_charge6030)             | 申请分账                                      |
| [6019](#query_enable_charge6019)      | 查询可分账金额                                   |
| [6021](#query_charge_result6021)      | 分账结果查询                                    |
| [6012](#mer_invoice_query6012)        | 可开票金额查询                                   |
| [6013](#applay_invoice6013)           | 申请开票                                      |
| [6014](#query_invoice_result6014)     | 查询开票结果                                    |
| [6015](#query_invoice_type6015)       | 查询开票类目                                    |
| [6031](#query_task_list6031)          | 任务列表查询                                    |


# 2 商户对接须知

## 2.1 商户对接前需准备数据

### 2.1.1 自由职业者数据

应用接口：签约接口、签约查询接口、付款接口、付款查询接口。

1. 借记卡银卡号（必填）
2. 银行卡开户人姓名（必填）
3. 银行卡开户人身份证号（必填）
4. 银预留手机号（必填）

### 2.1.2 商户数据

#### 2.1.2.1 商户联调需准备数据

1. 贵公司名称
2. 联系人名称，可以有多名联系人，均需提供手机、邮箱等信息
3. 联系人手机号码
4. 联系人邮箱
5. 服务器 IP 列表（请联系运营配置 IP 白名单！！！！！！）
6. 确认合作的服务商
7. 确认合同约定的服务费率、手续费率等

!> 注：商户提供上述必要信息后，生产环境下方操作，除商户操作部分外其他由 佣金保运营人员执行。

开通商户后即可获得 [2.1.2.5 对接用商户数据](/bosskg?id=_2125-对接用商户数据 ":target=_self")

#### 2.1.2.2 佣金保操作

1. 登录 佣金保运营系统，进入客户管理-客户业务管理开通商户，客户管理-客户费率管理配置客户费率信息，并审核

#### 2.1.2.3 商户操作

1. 登录商户系统，进入企业管理-接口设置
2. 更新（初始化）后得到 DES 密钥：即 ApiKey
3. 下载平台公钥：即服务商证书公钥
4. 上传商户公钥：商户根据加密算法（参考开发 Demo）生成公私钥（或者在线生成公私钥 https://www.bejson.com/enc/rsa/ ）将公钥上传、私钥留存

!> 注意不要将开头结尾上传！

!> 注意不要将开头结尾上传！

!> 注意不要将开头结尾上传！

![IMG_256](/images/IMG_256_1.png)

![IMG_257](/images/IMG_257.png)

5. 线下给银行卡账户进行充值。

![IMG_258](/images/IMG_258.png)

#### 2.1.2.4 服务商操作

1. 需登录服务商运营系统，进入交易管理-账户充值-商户充值并审核

#### 2.1.2.5 对接用商户数据

!> 测试数据见开发 Demo，生产数据登录商户平台获取

1. 商户的登录账号（邮箱）、初始密码
2. 商户号（技术对接时的 merId）
3. 商户联系人的登录账号、初始密码
4. DES 密钥（ApiKey）
5. 佣金保公钥（代征证书公钥）
6. 服务商 ID（providerId）
7. 任务对应编码（taskId）

## 2.2 业务流程
![IMG_20250212](/images/IMG_20250212.png)

## 2.3 重要接口对接顺序

1. 调用自由职业者签约接口进行签约。
2. 调用签约查询接口或根据签约异步通知获得签约结果。
3. 签约成功调用批量付款接口进行付款。
4. 调用付款查询接口或根据付款异步通知获得付款结果。

### 2.3.1.签约时序图

![签约时序图](/images/qianyue.png)

### 2.3.2.付款时序图

![付款时序图](/images/fukuan.png)

# 3 加密算法

!> 注：如果使用 Java 语言实现，参考 demo 中 DESUtil、RSAUtils 即可，如使用其他语言实现，需要特别注意加密算法的实现方式，并在完成后对算法进行单独测试。

## 3.1 DES

1. 模式：ECB
2. 填充方式：PKCS5Padding

## 3.2 SHA1WithRSA

1. 密钥位数：1024
2. 填充方式：PKCS8

## 3.3 商户加密、签名模拟流程

!> 注：PHP 不需要将 reqData 明文转化为字节数组，PHP 的 demo 中已对密文进行 Base64 编码，如果用 PHPdemo 中的加解密方式注意不必再次进行 Base64 编码

如下为 Java 流程示例，其他语言可能会略有不同

1. 商户构造业务数据 reqData 明文，Json 格式字符串形式。
2. 商户将 reqData 明文转化为字节数组，编码格式为：UTF-8。
3. 商户得到 reqData 明文字节数组，用 佣金保 DES 密钥加密得到密文。
4. 商户将密文用 Base64 编码，将密文放入公共请求参数（[详见 4.3](/bosskg?id=_43-公共请求参数 ":target=_self")）reqData 字段。
5. 商户对 Base64 编码后的密文用商户 RSA 私钥进行签名，然后将签名结果放入公共请求参数（[详见 4.3](/bosskg?id=_43-公共请求参数 ":target=_self")）sign 字段。

## 3.4 商户验签模拟流程

如下为 Java 流程示例，其他语言可能会略有不同（如果返回 resData 为空就不需要验签）

1. 商户收到 佣金保返回数据 resData 密文（佣金保 DES 加密）和 sign 字段密文（佣金保对 resData 密文再用 佣金保 RSA 私钥签名后的数据）。
2. 商户使用 **佣金保 RSA 公钥** 进行验签（即验证解密 sign 字段密文和 resData 密文是否一致），验签成功，说明数据来自 佣金保且没有被篡改，方可处理 resData 数据。
3. 商户将 resData 密文用 Base64 解编码。
4. 商户对 Base64 解编码后的字节数组用 佣金保 DES 密钥解密得到明文字节数组。
5. 商户将明文字节数组转化为字符串进行后续业务逻辑处理。

# 4 接口对接须知

## 4.1 统一请求地址

1. 商户使用统一请求地址进行请求，用 FunCode 字段（详见 6.2）进行调用的接口区分
2. 普通商户模式：商户-佣金保（商户直接和 佣金保对接）
3. 服务商模式：商户-服务商-佣金保（商户通过服务商和 佣金保间接对接，极少使用）
4. 建议请求超时设置：连接超时时间 10s，读取超时时间 60s

| 商户类型           | 接口地址                                                                    |
| ------------------ | --------------------------------------------------------------------------- |
| 普通商户：测试地址 | http://testgateway.serviceshare.com/testapi/clientapi/clientBusiness/common |
| 普通商户：生产地址 | 线下运营提供        |

## 4.2 HTTP 请求字符集设定

1. 请求：Content-Type:application/json;charset=utf-8
2. 返回：Accept:application/json

## 4.3 公共请求参数

!> 注：<br>1. 所有接口的请求报文都为此公共请求参数，区别在于不同业务接口，reqData 字段的值是不同的<br>2. 所有字段类型都为字符串，数字的意思是纯数字的字符串例如金额 100 不能是 100.00

| 字段      | 必填 | 类型     | 长度 | 说明                                                                                     |
| --------- | ---- | -------- | ---- | ---------------------------------------------------------------------------------------- |
| reqId     | 是   | 字符串   | 30   | 请求序号，每次请求保持唯一，表明报文的唯一编号                                           |
| funCode   | 是   | 字符串   | 4    | 接口编码，参见 6.2                                                                       |
| merId     | 是   | 字符串   | 20   | 商户号，我司分配给客户的唯一编号                                                         |
| version   | 是   | 字符串   | 4    | 接口版本号，目前版本为 V1.0（V 是大写！）                                                |
| reqData   | 是   | 字符串   | -    | 对应报文类型所要求的业务数据，详见各个接口请求参数要求                                   |
| ~remark1~ | ~否~ | ~字符串~ | -    | ~备注字段 1，目前用于自由职业者接口上传身份证人像面照片，Byte 数据转 16 进制，生成 String~ |
| ~remark2~ | ~否~ | ~字符串~ | -    | ~备注字段 2，目前用于自由职业者接口上传身份证国徽面照片，Byte 数据转 16 进制，生成 String~ |
| sign      | 是   | 字符串   | -    | 业务数据签名                                                                             |

## 4.4 公共返回参数

!> 注：所有接口的返回报文都为此公共返回参数，区别在于不同业务接口，resData 字段的值是不同的

| 字段    | 必填 | 类型   | 长度 | 说明                                                                                              |
| ------- | ---- | ------ | ---- | ------------------------------------------------------------------------------------------------- |
| reqId   | 是   | 字符串 | 30   | 请求序号，每次请求保持唯一，表明报文的唯一编号                                                    |
| funCode | 是   | 字符串 | 4    | 接口编码                                                                                          |
| merId   | 是   | 字符串 | 20   | 商户号，我司分配给客户的唯一编号                                                                  |
| version | 是   | 字符串 | 4    | 接口版本号，目前版本为 V1.0                                                                       |
| resData | 否   | 字符串 | -    | 回执的业务数据                                                                                    |
| resCode | 是   | 字符串 | 4    | 响应码（[详见 6.1](/bosskg?id=_61-响应码 ":target=_self")）<br>**不能作为业务状态处理的判定依据** |
| resMsg  | 是   | 字符串 | -    | 响应信息                                                                                          |
| sign    | 否   | 字符串 | -    | 业务数据签名结果                                                                                  |

## 4.5 接口请求频次限制

!> 同一商户同一接口默认每秒可访问频次上限为 20 次，可在合理范围内配置。

## 4.6 接口请求连接限制

!> 为了客户交易通讯的安全性，平台防火墙对网络连接会持续进行监测，当连接超过 30 分钟安全防火墙会强制断开连接，以保证客户资金安全。

# 5 业务接口列表

<a id="sign_contract6010"></a>
## 5.1 自由职业者无感签约

### 5.1.1 自由职业者签约无感前须知

1. 自由职业者签约以商户号+姓名+身份证+手机号+服务商做唯一校验
2. 更换银行卡不需要重新签约。
3. 签约方式不需要和付款方式一致。
4. 签约流程为同步接收签约请求，异步进行签约。
5. 同步返回结果仅代表系统已成功接收请求。
6. 签约结果依赖于异步通知，或商户主动通过签约查询接口查询。
7. 此接口如果没有传otherParam参数，将不会返回公共参数resData和sign，这种情况无需校验签名


### 5.1.2 reqData 参数

| 字段        | 必填 | 类型   | 长度 | 说明                                                                                                    |
| ----------- | ---- | ------ | ---- | ------------------------------------------------------------------------------------------------------- |
| name        | 是   | 字符串 | 25   | 姓名                                                                                                    |
| cardNo      | 是   | 字符串 | 25   | 银行卡号/支付宝账号（手机号或邮箱）/微信 openid                                                         |
| idCard      | 是   | 字符串 | 18   | 身份证号（年龄限制一般为 18-65）                                                                        |
| mobile      | 是   | 字符串 | 11   | 银行预留手机号（四要素会校验手机号真实性、其他目前只校验格式（^(1\[2,3,4,5,6,7,8,9\]\[0-9\])\\d\{8\}$） |
| paymentType | 是   | 数字   | 1    | 签约方式 0：银行卡，1：支付宝，2：微信                                                                  |
| providerId  | 是   | 数字   | 20   | 服务商 ID（联系客服获取）                                                                               |
| idCardPic1  | 是   | 字符串 | -    | 用于自由职业者接口上传身份证人像面照片，Byte 数据转 16 进制，生成 String（图片不要过大<1M）               |
| idCardPic2  | 是   | 字符串 | -    | 用于自由职业者接口上传身份证国徽面照片，Byte 数据转 16 进制，生成 String（图片不要过大<1M）               |
| otherParam  | 否   | 字符串 | -    | 透传参数                                                                                                |
| notifyUrl   | 否   | 字符串 | -    | 签约成功回调地址，在配置回调地址后，系统会将此参数回传给接口调用方                                      |
| tagList   | 否   | 数组 | -    | 自由职业者技能标签 可选项："其他,平面设计,工业设计,品宣策划,内容制作,设计建模,美容美发,市场推广,产品营销,生活服务,安装维护,系统开发,测试维护,售后支持,文案制作,影视制作"                                     |


### 5.1.3 resData 参数

| 字段       | 必填 | 类型   | 长度 | 说明     |
| ---------- | ---- | ------ | ---- | -------- |
| otherParam | 否   | 字符串 | -    | 透传参数 |

### 5.1.4 异步通知签约结果

!> 注：<br>1. 在签约接口传签约成功回调地址后可收到签约成功和失败的通知（测试环境可通过 demo 中的测试报文模拟）。<br>2. 签约异步通知 contentType=application/json<br>3. 异步通知由于网络等原因可能失败，请务必对接签约查询接口。

#### 5.1.4.1 resData 参数

| 字段       | 必填 | 类型   | 长度 | 说明                                                                                                                                                                                       |
| ---------- | ---- | ------ | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| name       | 是   | 字符串 | 25   | 姓名                                                                                                                                                                                       |
| cardNo     | 是   | 字符串 | 25   | 银行卡号                                                                                                                                                                                   |
| idCard     | 是   | 字符串 | 18   | 身份证号                                                                                                                                                                                   |
| mobile     | 是   | 字符串 | 11   | 银行预留手机号                                                                                                                                                                             |
| state      | 是   | 数字   | 1    | 签约状态 0：未签约 1：已签约 2：未检索到自由职业者信息 3：签约中 4：签约失败 5：已解约。<br>**签约接口异步通知只返回签约成功和签约失败状态，部分失败原因同步返回，需根据返回处理** |
| otherParam | 否   | 字符串 | -    | 需要透传的参数，不填则此字段为空                                                                                                                                                           |
| providerId | 是   | 数字   | 5    | 服务商 ID（联系客服获取）                                                                                                                                                                  |
| retMsg     | 否   | 字符串 | 25   | 返回描述                                                                                                                                                                                   |

#### 5.1.4.2 异步通知处理

1. 当接收到通知时需要检查业务状态是否已更新，同笔请求切勿重复处理。处理成功以后需要返回 佣金保 **SUCCESS（大写字符串）**。未响应 SUCCESS 或者网络超时，异步通知 2min 一次，共 5 次
2. 处理示例：见 Demo 中 NotifyController

<a id="sign_contract_query6011"></a>
## 5.2 自由职业者签约查询

### 5.2.1 自由职业者签约查询前须知

!> 1. 更换银行卡后，不需要重复签约。

### 5.2.2 reqData 参数

| 字段       | 必填 | 类型   | 长度 | 说明                      |
| ---------- | ---- | ------ | ---- | ------------------------- |
| name       | 是   | 字符串 | 25   | 姓名                      |
| idCard     | 是   | 字符串 | 18   | 身份证号                  |
| mobile     | 是   | 字符串 | 11   | 银行预留手机号            |
| providerId | 是   | 数字   | 5    | 服务商 ID（联系客服获取） |

### 5.2.3 resData 参数

| 字段       | 必填 | 类型   | 长度 | 说明                                                                             |
| ---------- | ---- | ------ | ---- | -------------------------------------------------------------------------------- |
| name       | 是   | 字符串 | 25   | 姓名                                                                             |
| cardNo     | 是   | 字符串 | 25   | 银行卡号                                                                         |
| idCard     | 是   | 字符串 | 18   | 身份证号                                                                         |
| mobile     | 是   | 字符串 | 11   | 银行预留手机号                                                                   |
| state      | 是   | 数字   | 1    | 签约状态 0：未签约 1：已签约 2：未检索到自由职业者信息 3：签约中 4：签约失败 5：已解约。 |
| otherParam | 否   | 字符串 | -    | 需要透传的参数，不填则此字段为空                                                 |
| providerId | 是   | 数字   | 5    | 服务商 ID（联系客服获取）                                                        |
| retMsg     | 否   | 字符串 | 25   | 失败原因                                                                         |

<a id="payment6001"></a>
## 5.3 商户批量付款

### 5.3.1 商户批量付款前须知

1. 佣金保端通过商户号\+商户订单号标识唯一订单。
2. 付款限制：单笔最低 10 元，单笔最高 9.8 万元，每人/月不超过 9.8 万元。
3. 微信付款每人/天限 10 笔，每人单笔限制 2w，单日 2w 限额。
4. 建议采用同批次多笔订单下发方式，尽量少使用一批次一笔订单方式下发。
5. 测试环境为了方便测试，付款状态下发金额分那一位 0 为处理中，奇数失败，偶数成功（例：100 处理中 ，101 失败， 102 成功）。
6. 同步返回结果仅代表系统已接收到通信请求，不能作为交易结果处理；交易结果请以“异步通知批量付款结果”或“商户批量付款查询”接口的交易状态为准。
7. 为保障交易结果及时安全，异步通知由于网络等各种原因可能延时或异常，请务必对接付款查询接口并以查询的最终交易状态为准。如有退票，退票状态一般是 T+1 或者 T+2 返回，特殊情况可能会在 T+0 返回。我方将第一时间联系您更新最新状态。
8. 注意备注中不能包含的敏感词：工资、薪酬、提现、薪、补贴、分红、奖金、返现、劳务费、分润、备用金、咨询等。
9. 注意 resCode6000 错误，6000 错误可能是因为超时引起的
10. 付款手机号需与签约时一致
11. 微信零钱 ,2025年微信官方对零钱做了升级对接前请咨询是老模式还是新模式（新模式要求用户手动收款） <br/>
<b>新模式</b><br/>
流程示意如下，仅绿框内页面为微信官方页面，需按照商家转账规则展示，其余流程均为商户灵活设计。<br/>
<img src="/images/IMG_20250214.png" width=50% /></br>

### 5.3.2 reqData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                                                                                                                               |
| ---------- | ---- | ----------- | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| merBatchId | 是   | 字符串      | 32   | 商户批次号，唯一，建议格式：yyyymmddHHSS\+8 位随机数，商户维度唯一                                                                                 |
| payItems   | 是   | List | -    | 付款数据，见下面 payItems 属性说明                                                                                                                 |
| taskId     | 是   | 数字        | 20   | 任务对应编码，作为下发的理由（获取方式： **商户平台/项目中心/项目管理/项目管理列表/任务 ID** ） 。<br>商户可任选一个任务编号，也可根据下发理由匹配 |
| providerId | 是   | 数字        | 20   | 服务商 ID（联系客服获取）                                                                                                                          |

#### 5.3.2.1payItems 字段

| 字段        | 必填 | 类型   | 长度 | 说明                                                                       |
| ----------- | ---- | ------ | ---- | -------------------------------------------------------------------------- |
| merOrderId  | 是   | 字符串 | 32   | 商户订单号，同商户确保唯一不可重复。商户维度唯一                           |
| amt         | 是   | 数字   | 8    | 付款金额（单位：分）纯数字                                                           |
| payeeName   | 是   | 字符串 | 50   | 收款人名称                                                                 |
| payeeAcc    | 是   | 字符串 | 28   | 收款人账号(根据付款方式:银行卡号/支付宝(账号、ID)/微信 openid)             |
| idCard      | 是   | 字符串 | 18   | 身份证号                                                                   |
| mobile      | 是   | 数字   | 11   | 收款人手机号。 目前只校验格式（^(1[2,3,4,5,6,7,8,9][0-9])\d{8}$）          |
| memo        | 否   | 字符串 | 20  | 备注                                                                       |
| paymentType | 是   | 数字   | 1    | 付款方式  0：银行卡，1：支付宝，2：微信                                    |
| notifyUrl   | 否   | 字符串 | 100  | 异步通知地址，商户侧用来接收付款订单的交易结果通知，不填则不会发送异步通知 |

### 5.3.3 resData 参数

| 字段          | 必填 | 类型        | 长度 | 说明                                        |
| ------------- | ---- | ----------- | ---- | ------------------------------------------- |
| successNum    | 否   | 数字        | 5    | 该批次的订单受理成功笔数                    |
| failureNum    | 否   | 数字        | 5    | 该批次的订单受理失败笔数                    |
| merBatchId    | 否   | 字符串      | 32   | 商户批次号                                  |
| payResultList | 否   | List | -    | 付款返回数据，见下面 payResultList 属性说明 |

#### 5.3.3.1 payResultList 字段

| 字段       | 必填 | 类型  | 长度  | 说明                                                   |
| ---------- | ---- |-----|-----| ------------------------------------------------------ |
| merOrderId | 否   | 字符串 | 32  | 商户订单号                                             |
| orderNo    | 否   | 数字  | 25  | 平台订单号，全局唯一，供付款查询时使用。               |
| amt        | 否   | 数字  | 8   | 付款金额（单位：分）                                         |
| fee        | 否   | 数字  | 8   | 服务费（单位：分）                                           |
| packageInfo     | 否   | 字符串 | -   | 微信零钱新模式： 跳转微信支付收款页的package信息，APP调起用户确认收款或JSAPI调起用户确认收款需要使用的参数 |
| mchId     | 否   | 字符串 | -   | 微信零钱新模式： 跳转微信支付收款页的mchId信息，APP调起用户确认收款或JSAPI调起用户确认收款需要使用的参数|
| resCode    | 否   | 字符串 | -   | 响应码（订单请求信息的受理状态，非下发订单的交易状态） |
| resMsg     | 否   | 字符串 | -   | 响应信息                                               |

### 5.3.4 异步通知批量付款结果

1. 商户在 payItems.notifyUrl 填写异步回调地址方可收到通知。
2. 异步通知付款结果不包含 reqId。
3. 付款终态（成功、失败）才会异步通知，同步调用即返回失败的不会进行通知
4. 异步通知由于网络等各种原因可能延时或失败，请务必对接付款查询接口。

#### 5.3.4.1 resData 参数

| 字段       | 必填 | 类型  | 长度  | 说明                                                                                                                                   |
| ---------- | ---- |-----|-----| -------------------------------------------------------------------------------------------------------------------------------------- |
| merOrderId | 是   | 字符串 | 32  | 商户订单号，**同一商户维度内不可重复。**<br>**如商户侧本地存在重复，请组合"orderNo"佣金保侧订单流水号，做订单唯一条件的处理依据。** |
| orderNo    | 是   | 数字  | 25  | **平台订单号，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的处理依据。**      |
| state      | 否   | 数字  | 1   | 交易状态：3：成功、4：失败、7：已取消                                                                                                         |
| amt        | 否   | 数字  | 8   | 付款金额（单位：分）                                                                                    |
| fee        | 否   | 数字   | 8  | 平台管理费（单位：分）                                           |
| userFee        | 否   | 数字   | 8   | 个人服务费（即个税税额，单位：分）                                           |
| vaTax        | 否   | 数字   | 8   | 个人增值税（单位：分）                                           |
| vaAddTax        | 否   | 数字   | 8   | 个人增值税附加（单位：分）                                           |
| userDueAmt         | 否   | 数字   | 8   | 个人实际到账金额（单位：分）                |
| userFeeRatio        | 否   | 数字   | -   | 个人服务费率（即个税税率）                                          |
| resMsg     | 否   | 字符串 | -   | 响应信息|
| createTime | 否   | 字符串 | -   | 创建订单时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                               |
| endTime    | 否   | 字符串 | -   | 交易完成时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                               |

#### 5.3.4.2 商户对异步通知结果处理

1. 当接收到通知时需要检查业务状态是否已更新，同笔订单切勿重复处理。
2. 处理成功以后需要返回 佣金保 **SUCCESS（大写字符串）**。未响应 SUCCESS 或者网络超时，异步通知 2min 一次，共 5 次，通知重复时，请务必保证能够正确处理重复的通知。
3. 付款异步通知 contentType=application/json
4. 处理示例：见 Demo 中 NotifyController

<a id="payment_query6002"></a>
## 5.4 商户批量付款查询

### 5.4.1 商户批量付款查询前须知

1. 不填写 merOrderId，orderNo 则查询此批次中的全部订单
2. 如果付款 30 分钟内，付款查询 resCode 返回 6020（未查询到订单）或 6032（该商户批次号不存在）或 6033（客户订单号或者订单流水号不存在），请确认 BOSSKG 没有落单再重新请求付款，重发一定要保持原商户批次号和商户订单号不变，避免重复支付
3. resCode 返回 6000（系统内部错误）或 6042（请求频繁请稍后再试）仅视为通信异常，不作为订单的交易状态判定依据。

### 5.4.2.reqData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                                                       |
| ---------- | ---- | ----------- | ---- | -------------------------------------------------------------------------- |
| merBatchId | 是   | 字符串      | 32   | 商户批次号，唯一不可重复。                                                 |
| queryItems | 是   | Object 对象 | -    | 查询数据，见下面 queryItems 属性说明，若为空则返回该批次。全部交易结果信息 |

#### 5.4.2.1 queryItems 字段

| 字段       | 必填 | 类型   | 长度  | 说明                                                                                                                              |
| ---------- | ---- | ------ |-----| --------------------------------------------------------------------------------------------------------------------------------- |
| merOrderId | 否   | 字符串 | 32  | 商户订单号，同一商户维度内不可重复。                                                                                              |
| orderNo    | 否   | 数字   | 25  | **平台订单号**，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的判定依据。 |

### 5.4.3 resData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                 |
| ---------- | ---- | ----------- | ---- | ------------------------------------ |
| merId      | 否   | 数字        | 20   | 商户号，我司分配给客户的唯一编号     |
| merBatchId | 否   | 字符串      | 32   | 商户批次号                           |
| queryItems | 否   | Object 对象 | -    | 查询数据，见下面 queryItems 属性说明 |

#### 5.4.3.1 queryItems 字段

| 字段       | 必填 | 类型  | 长度  | 说明                                                                                                                              |
| ---------- | ---- |-----|-----| --------------------------------------------------------------------------------------------------------------------------------- |
| merOrderId | 否   | 字符串 | 32  | 商户订单号，同一商户维度内不可重复 <br>**如商户侧本地存在重复，请组合"orderNo"佣金保侧订单流水号，做订单唯一条件的处理依据。** |
| orderNo    | 否   | 数字   | 25  | **平台订单号，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的处理依据。** |
| state      | 否   | 数字   | 1   | 交易状态：1:付款中、3：成功、4：失败、6：待用户确认、7：已取消                                                                                              |
| amt        | 否   | 数字   | 8   | 付款金额（单位：分）                                                                                    |
| fee        | 否   | 数字   | 8   | 平台管理费（单位：分） |
| userFee        | 否   | 数字   | 8   | 个人服务费（即个税税额，单位：分）                                           |
| vaTax        | 否   | 数字   | 8   | 个人增值税（单位：分）                                           |
| vaAddTax        | 否   | 数字   | 8   | 个人增值税附加（单位：分）                                           |
| userDueAmt         | 否   | 数字   | 8   | 个人实际到账金额（单位：分）                |
| userFeeRatio        | 否   | 数字   | -   | 个人服务费率（即个税税率）                                          |
| resMsg     | 否   | 数字   | -   | 响应信息                                                                                                                          |
| createTime | 否   | 字符串 | -   | 创建订单时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                          |
| endTime    | 否   | 字符串 | -   | 交易完成时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                          |

<a id="acc_open6003"></a>
## 5.5 商户账户余额查询

### 5.5.1 商户账户余额查询前须知

1. 返回的是商户在服务商账户的余额，不是银行卡账户余额
2. 线下通过银行卡打款成功后，会有 15 分钟左右的上帐时间，上帐成功后才可查询到更新后的账户余额

### 5.5.2 reqData 参数

| 字段       | 必填 | 类型 | 长度 | 说明                      |
| ---------- | ---- | ---- | ---- | ------------------------- |
| providerId | 是   | 数字 | 5    | 服务商 ID（联系客服获取） |
| paymentType | 否   | 数字   | 1    | 账户类型  0：银行卡，1：支付宝，2：微信                                    |

### 5.5.3.resData 参数

| 字段       | 必填 | 类型 | 长度 | 说明                     |
| ---------- | ---- | ---- | ---- | ------------------------ |
| balance    | 是   | 数字 |      | 账户余额，金额（单位：分） |
| providerId | 是   | 数字 | 5    | 服务商 ID                |

## 5.6 申请开票系列接口

<a id="query_invoice_type6015"></a>
### 5.6.1 查询开票类目

#### 5.6.1.1 reqData 参数

| 字段       | 必填 | 类型 | 说明                      |
| ---------- | ---- | ---- | ------------------------- |
| providerId | 是   | 数字 | 服务商 ID（联系客服获取） |

#### 5.6.1.2 resData 参数

List 形式：

| 字段          | 必填 | 类型 | 说明                      |
| ------------- | ---- |---| ------------------------- |
| providerId    | 是   | 数字 | 服务商 ID（联系客服获取） |
| merId         | 是   | 字符串 | 商户号                    |
| invoiceTypeId | 是   | 数字 | 类目 ID                   |
| invoiceName   | 是   | 字符串  | 类目名称                  |


<a id="mer_invoice_query6012"></a>
### 5.6.2 可开票金额查询

#### 5.6.2.1 reqData 参数

| 字段       | 必填 | 类型 | 说明                      |
| ---------- | ---- | ---- | ------------------------- |
| providerId | 是   | 数字 | 服务商 ID（联系客服获取） |

#### 5.6.2.2 resData 参数

| 字段       | 必填 | 类型 | 长度 | 说明                                                      |
| ---------- | ---- | ---- | ---- | --------------------------------------------------------- |
| providerId | 是   | 数字 | 20   | 服务商 ID |
| availableAmt | 是   | 数字 | -  | 可开票金额 单位（分） |

<a id="applay_invoice6013"></a>
### 5.6.3 申请开票

#### 5.6.3.1 reqData 参数

| 字段          | 必填 | 类型   | 说明                                      |
| ------------- | ---- | ------ | ----------------------------------------- |
| providerId    | 是   | 数字   | 服务商 ID（联系客服获取）                  |
| invoiceTypeId | 是   | 数字   | 发票类目 ID                                 |
| amt           | 是   | 数字   | 申请开票金额（单位：整数分）               |
| invoiceType   | 是   | 字符串 | 发票类型（SPECIAL：专票、PLAIN：普票）     |
| invoiceMemo   | 否   | 字符串 | 申请开票备注                               |
| contact       | 否   | 字符串 | 快递收件人员不填默认是商户系统中录入的信息 |
| mobile        | 否   | 字符串 | 快递电话不填默认是商户系统中录入的信息     |
| postAddress   | 否   | 字符串 | 快递地址不填默认是商户系统中录入的信息     |
| ticketType    | 是   | 字符串 | 发票形式:PAPER(纸票),ELECTRONIC(电票)      |

#### 5.6.3.2 resData 参数

| 字段           | 必填 | 类型   | 说明                         |
| -------------- | ---- | ------ | ---------------------------- |
| providerId     | 是   | 数字   | 服务商 ID（联系客服获取）    |
| invoiceApplyNo | 是   | 字符串 | 发票申请号                   |
| invoiceTypeId  | 是   | 数字   | 发票类目                     |
| amt            | 是   | 数字   | 申请开票金额（单位：整数分） |
| invoiceMemo    | 否   | 字符串 | 申请开票备注                 |
| contact        | 是   | 字符串 | 快递收件人员默认是系统中录入 |
| mobile         | 是   | 字符串 | 快递电话默认是系统中录入     |
| postAddress    | 是   | 字符串 | 快递地址默认是系统中录入     |


<a id="query_invoice_result6014"></a>
### 5.6.4 查询开票结果

#### 5.6.4.1 reqData 参数

| 字段           | 必填 | 类型   | 说明                                   |
| -------------- | ---- | ------ | -------------------------------------- |
| invoiceApplyNo | 否   | 字符串 | 发票申请号                             |
| providerId     | 否   | 数字   | 服务商 ID（联系客服获取） (与invoiceApplyNo不能同时为空)             |
| startDate      | 否   | 字符串 | 发票申请时间（查询起始时间）yyyy-MM-dd |
| endDate        | 否   | 字符串 | 发票申请时间（查询结束时间）yyyy-MM-dd |

#### 5.6.4.2 resData 参数

| 字段            | 必填 | 类型   | 说明                                                                    |
| --------------- | ---- | ------ | ----------------------------------------------------------------------- |
| merId           | 是   | 字符串 | 商户号                                                                  |
| providerId      | 否   | 数字   | 服务商 ID（联系客服获取）                                               |
| invoiceApplyNo       | 是   | 字符串 | 发票申请号                                                                 |
| createTime      | 是   | 字符串 | 发票申请时间  yyyy-MM-dd HH:mm:ss                                       |
| invoiceTypeId   | 是   | 数字   | 发票类目                                                                |
| amt             | 是   | 字符串 | 发票金额（单位：分）                                                    |
| invoiceMemo     | 否   | 字符串 | 申请开票备注                                                            |
| state           | 是   | 数字   | 发票状态（0 开票中，1 已开票，2 已拒绝，3 已废弃，4 已寄出，5  已红冲） |
| contact         | 是   | 字符串 | 快递收件人员                                                            |
| mobile          | 是   | 字符串 | 快递电话                                                                |
| postAddress     | 是   | 字符串 | 快递地址                                                                |
| invoiceNum      | 否   | 字符串 | 发票号码                                                                |
| invoiceCode     | 否   | 字符串 | 发票代码                                                                |
| expressId       | 否   | 字符串 | 快递公司                                                                |
| trackNo         | 否   | 字符串 | 快递单号                                                                |
| invoiceFileList | 否   | 字符串 | 发票文件列表(可能会存在多个文件，多个文件中间用“,”分隔)                                                            |

<a id="check_file6004"></a>
## 5.7 对账文件下载接口

### 5.7.1 对账文件下载前须知

1. 只包含成功的订单记录，只支持半年之内的，文件格式为 excel
2. T+1 方式生成，当天的对账单文件次日凌晨 6 点后可以下载
3. 对账文件中付款时间:通过商户端付款文件付款的即输入密码的时间,API付款的为创建时间
4. 文件格式样例

![dzwj.png](/images/dzwj.png)


### 5.7.2 reqData 参数

| 字段     | 必填 | 类型   | 说明                             |
| -------- | ---- | ------ | -------------------------------- |
| billDate | 是   | 字符串 | 交易成功日期（格式：yyyy-MM-dd） |

### 5.7.3 resData 参数

| 字段     | 必填 | 类型   | 说明                             |
| -------- | ---- | ------ | -------------------------------- |
| filePath | 否   | 字符串 | 对账文件下载链接地址             |
| billDate | 是   | 字符串 | 交易成功日期（格式：yyyy-MM-dd） |

<a id="balance_query6005"></a>
## 5.8 自由职业者剩余下发额度查询

### 5.8.1 自由职业者剩余下发额度查询前须知

!> 1. 只能查询已经签约服务商的自由职业者剩余下发额度

### 5.8.2 reqData 参数

| 字段       | 必填 | 类型   | 说明                      |
| ---------- | ---- | ------ | ------------------------- |
| providerId | 是   | 数字   | 服务商 ID（联系客服获取） |
| name       | 是   | 字符串 | 姓名                      |
| idCard     | 是   | 字符串 | 身份证号                  |

### 5.8.3 resData 参数

| 字段       | 必填 | 类型   | 说明                      |
| ---------- | ---- | ------ | ------------------------- |
| providerId | 是   | 数字   | 服务商 ID（联系客服获取） |
| name       | 是   | 字符串 | 姓名                      |
| idCard     | 是   | 字符串 | 身份证号                  |
| balance    | 是   | 数字   | 剩余额度 (单位：分)       |

## 5.9 分账接口

<a id="query_enable_charge6019"></a>
### 5.9.1 查询可分账金额

#### 5.9.1.1 申请分账须知

!> 1. 说明：可充值金额=电子账户余额-已发起充值但尚处于处理中金额

#### 5.9.1.2 reqData 参数

| 字段     | 必填 | 类型   | 说明                                                   |
| -------- | ---- | ------ | ------------------------------------------------------ |
| subAccNo | 是   | 字符串 | 银行电子账户（贵司在平台开通的银行电子账户） |

#### 5.9.1.3 resData 参数

| 字段                 | 必填 | 类型   | 说明                                                   |
| -------------------- | ---- | ------ | ------------------------------------------------------ |
| availableRechargeAmt | 是   | 数字   | 可充值金额（单位：分）                                 |
| subAccAmt            | 是   | 字符串 | 电子账户余额（单位：分）                               |
| subAccNo             | 是   | 字符串 | 银行电子账户（贵司在平台开通的银行电子账户） |

<a id="apply_charge6030"></a>
### 5.9.2 申请分账

#### 5.9.2.1 申请分账须知

!> 1. 申请分账接口请求频次限制为同一商户一分钟一次

#### 5.9.2.2 reqData 参数

| 字段              | 必填 | 类型   | 说明                                                   |
| ----------------- | ---- | ------ | ------------------------------------------------------ |
| providerId        | 是   | 数字   | 服务商 ID                                              |
| subAccNo          | 是   | 字符串 | 银行电子账户（贵司在平台开通的银行电子账户） |
| rechargeAmt       | 是   | 数字   | 充值金额（单位：分）                                   |
| enterpriseOrderNo | 是   | 字符串 | 商户充值订单号                                         |
| notifyUrl         | 否   | 字符串 | 分账结果回调地址（不填则不通知充值结果）               |

#### 5.9.2.3 resData 参数

| 字段              | 必填 | 类型   | 说明                                                   |
| ----------------- | ---- | ------ | ------------------------------------------------------ |
| providerId        | 是   | 数字   | 服务商 ID                                              |
| enterpriseOrderNo | 是   | 字符串 | 商户订单号                                             |
| orderNo           | 是   | 字符串 | 订单流水号                                             |
| rechargeAmt       | 是   | 字符串 | 充值金额（单位：分）（商户实际打款金额）               |
| feeAmt            | 否   | 字符串 | 充值手续费金额（单位：分）                             |
| accountingAmt     | 否   | 数字   | 实际到账充值金额（单位：分）=充值金额 - 手续费         |
| rechargeState     | 否   | 字符串 | 充值状态（PROCESSING=处理中，SUCCESS=成功，FAIL=失败） |
| createTime        | 否   | 字符串 | 创建时间                                               |
| updateTime        | 否   | 字符串 | 完成时间                                               |
| errMsg            | 否   | 字符串 | 错误信息                                               |


<a id="query_charge_result6021"></a>
### 5.9.3 查询分账结果

#### 5.9.3.1 分账结果查询须知

!> 1. enterpriseOrderNo 和 orderNo 两个查询条件至少需要填写一个

#### 5.9.3.2.reqData 参数

| 字段              | 必填 | 类型   | 说明                 |
| ----------------- | ---- | ------ | -------------------- |
| enterpriseOrderNo | 否   | 字符串 | 商户充值订单号       |
| orderNo           | 否   | 字符串 | 平台充值订单号 |

#### 5.9.3.3 resData 参数（rechargeRecordList）

| 字段              | 必填 | 类型   | 说明                                                   |
| ----------------- | ---- | ------ | ------------------------------------------------------ |
| providerId        | 是   | 数字   | 服务商 ID                                              |
| providerName        | 是   | 字符串   | 服务商名称                                             |
| rechargeState     | 是   | 数字   | 充值状态（PROCESSING=处理中，SUCCESS=成功，FAIL=失败） |
| accountingAmt     | 是   | 数字   | 实际到账金额                                           |
| rechargeAmt       | 是   | 数字   | 充值金额                                               |
| feeAmt            | 是   | 数字   | 充值手续费金额（单位：分）                             |
| enterpriseOrderNo | 是   | 字符串 | 商户充值订单号                                         |
| orderNo           | 是   | 字符串 | 平台充值订单号                                   |
| createTime        | 是   | 字符串 | 创建时间                                               |
| updateTime        | 否   | 字符串 | 完成时间                                               |
| errorMsg          | 否   | 字符串 | 错误信息                                               |

### 5.9.4 分账结果回调

#### 5.9.4.1 异步通知充值结果须知

1. 商户在申请分账时填写异步回调地址（notifyUrl）方可收到通知。
2. 仅通知充值成功结果，失败不会通知。
3. 异步通知由于网络等各种原因可能延时或失败，请务必对接充值查询接口。

#### 5.9.4.2 resData 参数

| 字段              | 必填 | 类型   | 说明                                                   |
| ----------------- | ---- | ------ | ------------------------------------------------------ |
| providerId        | 是   | 数字   | 服务商 ID                                              |
| providerName        | 是   | 字符串   | 服务商名称                                             |
| enterpriseOrderNo | 是   | 字符串 | 商户订单号                                             |
| orderNo           | 是   | 字符串 | 订单流水号                                             |
| rechargeAmt       | 是   | 数字   | 充值金额 单位（分）（商户实际打款金额）                |
| feeAmt            | 否   | 数字   | 充值手续费金额 单位（分）                              |
| accountingAmt     | 是   | 数字   | 实际到账金额                                           |
| rechargeState     | 是   | 数字   | 充值状态（PROCESSING=处理中，SUCCESS=成功，FAIL=失败） |
| bankRemark           | 是   | 字符串 | 转账备注                                             |
| createTime        | 是   | 字符串 | 创建时间                                               |
| updateTime        | 是   | 字符串 | 完成时间                                               |
| errMsg            | 否   | 字符串 | 错误信息                                               |

#### 5.9.4.3 商户对异步通知结果处理

1. 当接收到通知时需要检查业务状态是否已更新，同笔订单切勿重复处理。
2. 处理成功以后需要返回 佣金保 **SUCCESS（大写字符串）**。未响应 SUCCESS 或者网络超时，异步通知 2min 一次，共 5 次，之后不再通知。
3. 处理示例：见 Demo 中 RechargeNotifyController


<a id="place_payment6022"></a>
## 5.10 批次订单上传

### 5.10.1 批次上传前须知

场景描述：该接口仅对于客户有双岗审核需求，且下单和付款流程分离的场景使用，客户使用【批次订单上传】接口上传订单到平台后，再登录平台对上传的订单进行下发，下发完成后可以使用【批次订单查询】接口查询订单的付款状态。

### 5.10.2 reqData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                                                                                                                            |
| ---------- | ---- | ----------- | ---- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| merBatchId | 是   | 字符串      | 32   | 商户批次号，唯一，建议格式：yyyymmddHHSS+8 位随机数，商户维度唯一                                                                               |
| payItems   | 是   | Object 对象 |      | 付款数据，见下面 payItems 属性说明                                                                                                              |
| taskId     | 是   | 数字        | 20   | 任务对应编码，作为下发的理由 **（获取方式：商户平台/项目中心/项目管理/项目管理列表/任务 ID）** <br>商户可任选一个任务编号，也可根据下发理由匹配 |
| providerId | 是   | 数字        | 20   | 服务商 ID（联系客服获取）                                                                                                                       |

#### 5.10.2.1 payItems 字段

| 字段        | 必填 | 类型   | 长度 | 说明                                               |
| ----------- | ---- | ------ | ---- |--------------------------------------------------|
| merOrderId  | 是   | 字符串 | 32   | 商户订单号，**同批次内确保唯一不可重复**。商户维度唯一                    |
| amt         | 是   | 数字   | 8    | 金额（分）纯数字                                         |
| payeeName   | 是   | 字符串 | 25   | 收款人名称                                            |
| payeeAcc    | 是   | 字符串 | 25   | 收款人账号 (根据付款方式：银行卡号/支付宝 (账号、ID)/微信 openid)        |
| idCard      | 是   | 字符串 | 18   | 身份证号                                             |
| mobile      | 是   | 数字   | 11   | 收款人手机号。目前只校验格式（^(1[2,3,4,5,6,7,8,9][0-9])\d{8}$） |
| memo        | 否   | 字符串 | 20  | 备注                                               |
| paymentType | 是   | 数字   | 1    | 付款方式 0：银行卡，1：支付宝                                 |

### 5.10.3 resData 参数

| 字段    | 必填 | 类型   | 长度 | 说明                 |
| ------- | ---- | ------ | ---- | -------------------- |
| batchNo | 否   | 数字   | 5    | 平台生成的唯一批次号 |
| resCode | 否   | 字符串 | 4    | 响应码               |
| resMsg  | 否   | 字符串 | 18   | 响应信息             |


<a id="place_payment_query6023"></a>
## 5.11 商户批次订单查询

### 5.11.1 商户批次订单查询前须知

1. 不填写 merOrderId 则查询此批次中的全部订单
2. 此接口针对商户端：批量付款将付款拆分成上传和支付等场景单独开发
3. 配合 6022 使用
4. 该查询接口仅对【5.10 商户批次订单上传】的接口数据进行查询，使用【5.3 商户批量付款】接口的订单请使用【5.4 商户批量付款查询】接口

### 5.11.2 reqData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                                                     |
| ---------- | ---- | ----------- | ---- | ------------------------------------------------------------------------ |
| merId      | 是   | 数字        | 20   | 商户号，我司分配给客户的唯一编号                                         |
| merBatchId | 是   | 字符串      | 32   | 商户批次号，唯一不可重复。                                               |
| queryItems | 是   | Object 对象 | -    | 查询数据，见下面 queryItems 属性说明，若为空则返回该批次全部交易结果信息 |

#### 5.11.2.1 queryItems 字段

| 字段       | 必填 | 类型   | 长度 | 说明                             |
| ---------- | ---- | ------ | ---- | -------------------------------- |
| merOrderId | 否   | 字符串 | 32   | 商户订单号，同一批次内不可重复。 |

### 5.11.3 resData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                 |
| ---------- | ---- | ----------- | ---- | ------------------------------------ |
| merId      | 否   | 数字        | 20   | 商户号，我司分配给客户的唯一编号     |
| merBatchId | 否   | 字符串      | 32   | 商户批次号                           |
| queryItems | 否   | Object 对象 | -    | 查询数据，见下面 queryItems 属性说明 |

#### 5.11.3.1 queryItems 字段

| 字段        | 必填 | 类型   | 长度  | 说明                                                                                                                  |
| ----------- | ---- | ------ |-----| --------------------------------------------------------------------------------------------------------------------- |
| merOrderId  | 否   | 字符串 | 32  | 商户订单号，同一批次内不可重复<br>如商户侧本地存在重复，请组合"payItemId"优付侧订单流水号，做订单唯一条件的处理依据。 |
|orderNo | 否 | 数字 | 25  | 平台订单号，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的处理依据。                        |
| state       | 否   | 数字   | 1   | 交易状态，0：待付款、1：处理中、3：成功、4：失败<br>说明：以查询最终结果状态为处理依据（3：成功、4：失败） 、7：已取消|
| amt         | 否   | 数字   | 8   | 付款金额（单位：分）                                                                                                        |
| fee        | 否   | 数字   | 8   | 平台管理费（单位：分）  |
| userFee        | 否   | 数字   | 8   | 个人服务费（即个税税率，单位：分）                                           |
| vaTax        | 否   | 数字   | 8   | 个人增值税（单位：分）                                           |
| vaAddTax        | 否   | 数字   | 8   | 个人增值税附加（单位：分）                                           |
| userDueAmt         | 否   | 数字   | 8   | 个人实际到账金额（单位：分）                 |
| userFeeRatio        | 否   | 数字   | -   | 个人服务费率（即个税税率）                                           |
| resMsg      | 否   | 数字   |     | 响应信息                                                                                                              |
| createTime  | 否   | 字母   |     | 创建订单时间(格式：yyyy-MM-dd HH:mm:ss)                                                                               |
| endTime     | 否   | 字母   |     | 交易完成时间(格式：yyyy-MM-dd HH:mm:ss)                                                                               |

<a id="receipt_query6024"></a>
## 5.12 电子回单查询

### 5.12.1 电子回单查询前须知

1. 正常电子回单 T+2 日可查询（银行卡支持，联动通道不支持）
2. 如果查询对应订单没有找到电子回单，接口将返回“暂无电子回单”
3. 电子回单地址有效期为 30 天，建议客户下载保存

### 5.12.2 reqData 参数

| 字段       | 必填 | 类型   | 长度 | 说明              |
| ---------- | ---- | ------ | -- |-----------------|
| merBatchId | 否   | 字符串 | 32 | 商户批次号，**唯一不可重复**。 |
| merOrderId | 是   | 字符串 | 32   | 客户订单号，**唯一不可重复**。   |

### 5.12.3 resData 参数

| 字段        | 必填 | 类型   | 长度 | 说明                             |
| ----------- | ---- | ------ | -- | -------------------------------- |
| merId       | 否   | 数字   | 20 | 商户号，我司分配给客户的唯一编号 |
| merBatchId  | 否   | 字符串 | 32 | 商户批次号                       |
| merOrderId  | 否   | 字符串 | 32   | 客户订单号                       |
| receiptUrl | 否   | 字符串 | 100 | 电子回单地址                     |

<a id="sign_h5_save6025"></a>
## 5.13 自由职业者H5有感签约

### 5.13.1 自由职业者H5有感签约信息前须知

1. 此接口会返回 url 地址（其中包含 token 参数 90 天过期），每次保存都会返回不同的 token
2. 商户可将此 url 地址内嵌到需要签约的地方
3. 后续签约提交的注意事项与 5.1.1 自由职业者签约前须知一致

### 5.13.2 reqData 参数

| 字段           | 必填 | 类型   | 长度  | 说明                                                                                             |
| -------------- | ---- | ------ |-----| ------------------------------------------------------------------------------------------------ |
| userName       | 是   | 字符串 | 25  | 姓名                                                                                             |
| cardNo         | 是   | 字符串 | 25  | 银行卡号/支付宝账号（手机号或邮箱）/微信 openid                                                  |
| idCard         | 是   | 字符串 | 18  | 身份证号（年龄限制一般为 18-65）                                                                 |
| mobile         | 是   | 字符串 | 11  | 银行预留手机号（四要素会校验手机号真实性、其他目前只校验格式（^(1[2,3,4,5,6,7,8,9][0-9])\d{8}$） |
| idCardFrontPic | 是   | 字符串 | -   | 用于自由职业者接口上传身份证正面照片，Byte 数据转 16 进制，生成 String（图片不要过大<1M）        |
| idCardBackPic  | 是   | 字符串 | -   | 用于自由职业者接口上传身份证反面照片，Byte 数据转 16 进制，生成 String（图片不要过大<1M）        |
| paymentType    | 是   | 数字   | 1   | 签约方式 0：银行卡，1：支付宝，2：微信                                                           |
| notifyUrl      | 否   | 字符串 | -   | 签约成功回调地址，在配置回调地址后，系统会将此参数回传给接口调用方  |
| redirectUrl      | 否   | 字符串 | -   | 返回页地址，非必传，如有传，则在签约结果页，显示返回按钮，点击后跳转至该地址对应页面  |
| redirectBtnName      | 否   | 字符串 | -   | 返回按钮名称，非必传，如有传，则在签约结果页，返回按钮的名称为该名称  |

### 5.13.3 resData 参数

| 字段    | 必填 | 类型   | 长度  | 说明                                          |
| ------- | ---- | ------ |-----| --------------------------------------------- |
| resData | 是   | 字符串 | -   | 签约内嵌地址（包含 token 信息跳转时不能丢失） |

<a id="query_task_list6031"></a>
## 5.14 任务列表查询

### 5.14.1 reqData 参数

无

### 5.14.2 resData 参数

| 字段    | 必填 | 类型   | 长度  | 说明                                          |
| ------- | ---- | ------ |-----| --------------------------------------------- |
| taskId | 是   | 数字 | -   | 任务编号 |
| taskName | 是   | 字符串 | -   | 任务名称 |
| taskStatus | 是   | 字符串 | -   | 任务状态  待发布:TO_RELEASE,平台待审核:PLATFORM_REVIEW_WAIT,平台审核拒绝:PLATFORM_REVIEW_REFUSE,服务商待审核:LEVY_REVIEW_WAIT,服务商审核拒绝:LEVY_REVIEW_REFUSE,待开始:TO_START,进行中:TASK_CONDUCT,已关闭:TASK_SHUT,已完成:TASK_END |
| startTime | 是   | 字符串 | -   | 任务开始日期 yyyy-MM-dd |
| endTime | 是   | 字符串 | -   | 任务结束日期 yyyy-MM-dd |

<a id="cancel_sign6036"></a>
## 5.15 自由职业者解约

### 5.15.1 reqData 参数

| 字段           | 必填 | 类型   | 长度  | 说明                                                                                             |
| -------------- | ---- | ------ |-----| ------------------------------------------------------------------------------------------------ |
| userName       | 是   | 字符串 | 25  | 姓名                                                                                             |
| idcardNo         | 是   | 字符串 | 18  | 身份证号                                                                 |
| providerId      | 否   | 数字 | 20   | 服务商 ID （如果不传该字段会将该自由职业者在该客户下的所有服务商的签约信息解约）                              |

### 5.15.2 resData 参数

| 字段    | 必填 | 类型   | 长度  | 说明                                          |
| ------- | ---- | ------ |-----| --------------------------------------------- |
| state | 是   | 字符串 | -   | 解约状态 1：解约成功 2：解约失败 |
| retMsg | 否   | 字符串 | -   | 返回描述 |


<a id="all_in_one6029"></a>
## 5.16 其他接口-一键下发

### 5.16.1 reqData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                                                                                                                               |
| ---------- | ---- | ----------- | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| merBatchId | 是   | 字符串      | 32   | 商户批次号，唯一，建议格式：yyyymmddHHSS\+8 位随机数，商户维度唯一                                                                                 |
| payItems   | 是   | Object 对象 | -    | 付款数据，见下面 payItems 属性说明                                                                                                                 |
| taskId     | 是   | 数字        | 20   | 任务对应编码，作为下发的理由（获取方式： **商户平台/项目中心/项目管理/项目管理列表/任务 ID** ） 。<br>商户可任选一个任务编号，也可根据下发理由匹配 |
| providerId | 是   | 数字        | 20   | 服务商 ID（联系客服获取）                                                                                                     |

#### 5.16.1.1payItems 字段

| 字段        | 必填 | 类型   | 长度 | 说明                                                                       |
| ----------- | ---- | ------ | ---- | -------------------------------------------------------------------------- |
| merOrderId  | 是   | 字符串 | 32   | 商户订单号，同商户确保唯一不可重复。商户维度唯一                           |
| amt         | 是   | 数字   | 8    | 金额（分）纯数字                                                           |
| payeeName   | 是   | 字符串 | 50   | 收款人名称                                                                 |
| payeeAcc    | 是   | 字符串 | 28   | 收款人账号(根据付款方式:银行卡号/支付宝(账号、ID)/微信 openid)             |
| idCard      | 是   | 字符串 | 18   | 身份证号                                                                   |
| mobile      | 是   | 数字   | 11   | 收款人手机号。 目前只校验格式（^(1[2,3,4,5,6,7,8,9][0-9])\d{8}$）          |
| memo        | 否   | 字符串 | 20  | 备注                                                                       |
| paymentType | 是   | 数字   | 1    | 付款方式  0：银行卡，1：支付宝，2：微信                                    |
| notifyUrl   | 否   | 字符串 | 100  | 异步通知地址，商户侧用来接收付款订单的交易结果通知，不填则不会发送异步通知 |

### 5.16.2 resData 参数

| 字段          | 必填 | 类型        | 长度 | 说明                                        |
| ------------- | ---- | ----------- | ---- | ------------------------------------------- |
| successNum    | 否   | 数字        | 5    | 该批次的订单受理成功笔数                    |
| failureNum    | 否   | 数字        | 5    | 该批次的订单受理失败笔数                    |
| merBatchId    | 否   | 字符串      | 32   | 商户批次号                                  |
| payResultList | 否   | Object 对象 | -    | 付款返回数据，见下面 payResultList 属性说明 |

#### 5.16.2.1 payResultLists 字段

| 字段       | 必填 | 类型   | 长度  | 说明                                                   |
| ---------- | ---- | ------ |-----| ------------------------------------------------------ |
| merOrderId | 否   | 字符串 | 32  | 商户订单号                                             |
| orderNo    | 否   | 数字   | 25  | 平台订单号，全局唯一，供付款查询时使用。               |
| amt        | 否   | 数字   | 8   | 付款金额（单位：分）                                         |
| fee        | 否   | 数字   | 8   | 服务费（分）                                           |
| resCode    | 否   | 字符串   | -   | 响应码（订单请求信息的受理状态，非下发订单的交易状态） |
| resMsg     | 否   | 字符串 | -   | 响应信息                                               |

### 5.16.3 异步通知

1. 商户在 payItems.notifyUrl 填写异步回调地址方可收到通知。
2. 异步通知付款结果不包含 reqId。
3. 付款终态（成功、失败）才会异步通知，同步调用即返回失败的不会进行通知
4. 异步通知由于网络等各种原因可能延时或失败，请务必对接查询接口。

#### 5.16.3.1 resData 参数

| 字段       | 必填 | 类型   | 长度  | 说明                                                                                                                                   |
| ---------- | ---- | ------ |-----| -------------------------------------------------------------------------------------------------------------------------------------- |
| merOrderId | 是   | 字符串 | 32  | 商户订单号，**同一商户维度内不可重复。**<br>**如商户侧本地存在重复，请组合"orderNo"佣金保侧订单流水号，做订单唯一条件的处理依据。** |
| orderNo    | 是   | 数字   | 25  | **平台订单号，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的处理依据。**      |
| state      | 否   | 数字   | 1   | 交易状态：3：成功、4：失败                                                                                                             |
| amt        | 否   | 数字   | 8   | 付款金额（单位：分）                                                            |
| fee        | 否   | 数字   | 8   | 平台管理费（单位：分） |
| userFee        | 否   | 数字   | 8   | 个人服务费（即个税税率，单位：分）                                           |
| vaTax        | 否   | 数字   | 8   | 个人增值税（单位：分）                                           |
| vaAddTax        | 否   | 数字   | 8   | 个人增值税附加（单位：分）                                           |
| userDueAmt         | 否   | 数字   | 8   | 个人实际到账金额（单位：分）                |
| userFeeRatio        | 否   | 数字   | -   | 个人服务费率（即个税税率）                                           |
| resMsg     | 否   | 字符串   | -   | 响应信息                                                                                                                               |
| createTime | 否   | 字符串 | -   | 创建订单时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                               |
| endTime    | 否   | 字符串 | -   | 交易完成时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                               |

#### 5.16.3.2 异步通知结果处理

1. 当接收到通知时需要检查业务状态是否已更新，同笔订单切勿重复处理。
2. 处理成功以后需要返回 佣金保 **SUCCESS（大写字符串）**。未响应 SUCCESS 或者网络超时，异步通知 2min 一次，共 5 次，通知重复时，请务必保证能够正确处理重复的通知。
3. 付款异步通知 contentType=application/json
4. 处理示例：见 Demo 中 NotifyController

<a id="all_in_one_query6030"></a>
## 5.17 其他接口-一键下发查询

### 5.17.1 一键下发查询前须知

1. 不填写 merOrderId，orderNo 则查询此批次中的全部订单
2. resCode 返回 6000（系统内部错误）或 6042（请求频繁请稍后再试）仅视为通信异常，不作为订单的交易状态判定依据。

### 5.17.2.reqData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                                                       |
| ---------- | ---- | ----------- | -- | -------------------------------------------------------------------------- |
| merBatchId | 是   | 字符串      | 32   | 商户批次号，唯一不可重复。                                                 |
| queryItems | 是   | Object 对象 | -  | 查询数据，见下面 queryItems 属性说明，若为空则返回该批次。全部交易结果信息 |

#### 5.17.2.1 queryItems 字段

| 字段       | 必填 | 类型   | 长度  | 说明                                                                                                                              |
| ---------- | ---- | ------ |-----| --------------------------------------------------------------------------------------------------------------------------------- |
| merOrderId | 否   | 字符串 | 32  | 商户订单号，同一商户维度内不可重复。                                                                                              |
| orderNo    | 否   | 数字   | 25  | **平台订单号**，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的判定依据。 |

### 5.17.3 resData 参数

| 字段       | 必填 | 类型        | 长度 | 说明                                 |
| ---------- | ---- | ----------- | -- | ------------------------------------ |
| merId      | 否   | 数字        | 20 | 商户号，我司分配给客户的唯一编号     |
| merBatchId | 否   | 字符串      | 32   | 商户批次号                           |
| queryItems | 否   | Object 对象 | -  | 查询数据，见下面 queryItems 属性说明 |

#### 5.17.3.1 queryItems 字段

| 字段       | 必填 | 类型   | 长度  | 说明                                                                                                                              |
| ---------- | ---- | ------ |-----| --------------------------------------------------------------------------------------------------------------------------------- |
| merOrderId | 否   | 字符串 | 32  | 商户订单号，同一商户维度内不可重复 <br>**如商户侧本地存在重复，请组合"orderNo"佣金保侧订单流水号，做订单唯一条件的处理依据。** |
| orderNo    | 否   | 数字  | 25  | **平台订单号，唯一不重复，建议付款查询时使用，以确保订单处理的唯一性，防止发生重复处理;如有拆单，应作为订单唯一条件的处理依据。** |
| state      | 否   | 数字  | 1   | 交易状态：1:付款中、3：成功、4：失败                                                                                              |
| amt        | 否   | 数字  | 8   | 付款金额（单位：分）                                                                                         |
| fee        | 否   | 数字   | 8   | 平台管理费（单位：分）  |
| userFee        | 否   | 数字   | 8   | 个人服务费（即个税税率，单位：分）                                           |
| vaTax        | 否   | 数字   | 8   | 个人增值税（单位：分）                                           |
| vaAddTax        | 否   | 数字   | 8   | 个人增值税附加（单位：分）                                           |
| userDueAmt         | 否   | 数字   | 8   | 个人实际到账金额（单位：分）                |
| userFeeRatio        | 否   | 数字   | -   | 个人服务费率（即个税税率）                                           |
| resMsg     | 否   | 字符串 | -   | 响应信息                                                                                                                          |
| createTime | 否   | 字符串 | -   | 创建订单时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                          |
| endTime    | 否   | 字符串 | -   | 交易完成时间 (格式：yyyy-MM-dd HH:mm:ss)                                                                                          |

<a id="query_charge_recode6018"></a>
## 5.18 查询充值流水

### 5.18.1 查询充值流水前须知

1. 只返回充值成功的记录
2. 最大查询范围：支持查询一个月内（31 天）的流水

### 5.18.2 reqData 参数

| 字段       | 必填 | 类型   | 说明                                   |
| ---------- | ---- | ------ | -------------------------------------- |
| providerId | 是   | 数字   | 服务商 ID（联系客服获取）              |
| startDate  | 是   | 字符串 | 充值申请时间（查询起始时间）yyyy-MM-dd |
| endDate    | 是   | 字符串 | 充值申请时间（查询结束时间）yyyy-MM-dd |

### 5.18.3 resData 参数

| 字段              | 必填 | 类型   | 说明                                                   |
| ----------------- | ---- | ------ | ------------------------------------------------------ |
| providerId        | 是   | 数字   | 服务商 ID                                              |
| providerName        | 是   | 字符串   | 服务商名称                                             |
| enterpriseOrderNo | 是   | 字符串 | 商户订单号                                             |
| orderNo           | 是   | 字符串 | 订单流水号                                             |
| rechargeAmt       | 是   | 数字   | 充值金额 单位（分）（商户实际打款金额）                |
| feeAmt            | 是   | 数字   | 充值手续费金额 单位（分）                              |
| accountingAmt     | 是   | 数字   | 实际到账金额                                           |
| rechargeState     | 是   | 字符串  | 充值状态（PROCESSING=处理中，SUCCESS=成功，FAIL=失败） |
| bankRemark        | 否   | 字符串 | 转账备注                                             |
| receiveBankNo        | 否   | 字符串 | 收款银行账号                                             |
| receiveBankName        | 否   | 字符串 | 收款银行账户名                                             |
| payBankName        | 否   | 字符串 | 付款银行账户名                                             |
| payBankNo        | 否   | 字符串 | 付款银行账号                                             |
| createTime        | 是   | 字符串 | 创建时间                                               |
| updateTime        | 是   | 字符串 | 完成时间                                               |
| errMsg            | 否   | 字符串 | 错误信息                                               |


## 5.19 充值回调

### 5.19.1 异步通知充值结果须知

1. 商户在商户端配置回调地址方可收到通知。
2. 仅通知充值成功结果，失败不会通知。
3. 异步通知由于网络等各种原因可能延时或失败，请务必对接充值查询接口。

### 5.19.2 resData 参数

| 字段              | 必填 | 类型  | 说明                                                   |
| ----------------- | ---- |-----| ------------------------------------------------------ |
| providerId        | 是   | 数字  | 服务商 ID                                              |
| providerName        | 是   | 字符串   | 服务商名称                                             |
| enterpriseOrderNo | 是   | 字符串 | 商户订单号                                             |
| orderNo           | 是   | 字符串 | 订单流水号                                             |
| rechargeAmt       | 是   | 数字  | 充值金额 单位（分）（商户实际打款金额）                |
| feeAmt            | 否   | 数字  | 充值手续费金额 单位（分）                              |
| accountingAmt     | 是   | 数字  | 实际到账金额                                           |
| rechargeState     | 是   | 字符串 | 充值状态（PROCESSING=处理中，SUCCESS=成功，FAIL=失败） |
| bankRemark        | 否   | 字符串 | 转账备注                                             |
| receiveBankNo        | 否   | 字符串 | 收款银行账号                                             |
| receiveBankName        | 否   | 字符串 | 收款银行账户名                                             |
| payBankName        | 否   | 字符串 | 付款银行账户名                                             |
| payBankNo        | 否   | 字符串 | 付款银行账号                                             |
| createTime        | 是   | 字符串 | 创建时间                                               |
| updateTime        | 是   | 字符串 | 完成时间                                               |
| errMsg            | 否   | 字符串 | 错误信息                                               |


<a id="wechat_payment_cancel6043"></a>
## 5.20 撤销转账
### 5.20.1 接口须知

1. 此接口为微信零钱新模式专用，商户通过转账接口发起付款后，在用户确认收款之前可以通过该接口撤销付款。该接口返回成功仅表示撤销请求已受理，系统会异步处理退款等操作，以最终查询单据返回状态为准。

2. merBatchId,merOrderId  或 orderNo 二选一必填。

3. 发起此接口的交易前置状态为: 6 待用户确认 。才可调用此接口发起撤销。 

### 5.20.2 reqData 参数


| 字段       | 必填 | 类型 | 长度 | 说明                                                   |
| ---------- | ---- | --- | ---- | ------------------------------------------------------ |
| merBatchId | 否   | 字符串 | 32    | 商户批次号  |
| merOrderId | 否   | 字符串 | 32   | 商户订单号                                             |
| orderNo    | 否   | 数字  | 25   | 平台订单号，唯一不重复               |

### 5.20.3 resData 参数

| 字段       | 必填  | 类型  | 长度  | 说明                                                     |
| ---------- |-----|-----|-----|--------------------------------------------------------|
| merBatchId | 否   | 字符串 | 32    | 商户批次号  |
| merOrderId | 是   | 字符串 | 32  | 商户订单号，同一商户维度内不可重复                                      |
| orderNo    | 是   | 数字  | 25  | 平台订单号，唯一不重复                                       |


## 5.21 App调起微信用户收款
### 5.21.1 App调起微信用户收款须知
 1. 该能力依赖微信Open SDK，需按照指引在微信开放平台申请开通移动应用的微信支付能力，以完成相关初始化配置
 2. 商户需通过API接口申请创建付款单，获取到跳转领取页面的package信息才能调起微信用户确认收款页面，详情请参考[发放](#_11-发放接口)
 3. Android openSDK（版本>=5.3.1）
 4. iOS openSDK（版本>=1.8.4）

### 5.21.2 调起用户收款参数

| 字段             | 必填  | 类型 | 长度 | 说明                       |
|----------------|-----|--| ---- |--------------------------|
| businessType  | 是   | 数字 | 16    | 业务类型固定requestMerchantTransfer  |
| query  | 是   | String | -    | 查询参数  |
<table id = "query" style="margin-left: 5%;display : block; ">
    <tr>
        <td>mchId </td>
        <td>是</td>
        <td>字符串</td>
        <td>32</td>
        <td>商户号,付款接口会同步返回此字段</td>
      </tr>
    <tr>
        <td>appId</td>
        <td>否</td>
        <td>字符串</td>
        <td>32</td>
        <td>微信开放平台审核通过的移动应用appid</td>
    </tr>
   <tr>
        <td>package </td>
        <td>否</td>
        <td>字符串</td>
        <td>1024</td>
        <td>商家转账付款单跳转收款页package信息,商家转账付款单受理成功时返回给商户</td>
    </tr>
</table>

### 5.21.3  示例程序

安卓示例
```android

    //代码解释代码改写
    int wxSdkVersion = api.getWXAppSupportAPI();
    if (wxSdkVersion >= Build.OPEN_BUSINESS_VIEW_SDK_iNT) {
      WXOpenBusinessView.Req req = new WXOpenBusinessView.Req();
      req.businessType = "requestMerchantTransfer";
      req.query = "mchId=1230000000&appId=wx8888888888888888&package=affffddafdfafddffda%3D%3D";
      Boolean ret = api.sendReq(req);
    } else {
      /*需提示用户升级微信版本*/
    }
```
ios示例

```swift

//代码解释代码改写
WXOpenBusinessViewReq *req = [WXOpenBusinessViewReq object];
req.businessType = @"requestMerchantTransfer";
req.query = @"mchId=1230000000&appId=wx8888888888888888&package=affffddafdfafddffda%3D%3D";
[WXApi sendReq:req]
```

## 5.22 微信JSAPI调起用户确认收款
### 5.22.1 微信JSAPI调起用户确认收款
1.WeixinJSBridge内置对象在其他浏览器中无效。

2.低版本微信客户端、低版本小程序基础库 均不支持 requestMerchantTransfer 方法，需做好兼容性处理。

### 5.22.2 调起用户收款参数

| 字段             | 必填  | 类型 | 长度 | 说明                       |
|----------------|-----|--| ---- |--------------------------|
| mchId   | 是   | string | 32    | 业务类型固定requestMerchantTransfer  |
| appId   | 是   | String |32    | 商户AppID  |
| package    | 是   | String | 1024    | 商家转账付款单跳转收款页package信息,商家转账付款单受理成功时返回给商户  |

### 示例

小程序
```javascript
if (wx.canIUse('requestMerchantTransfer')) {
    wx.requestMerchantTransfer({
        mchId: 'wx8888888888888888',
        appId: wx.getAccountInfoSync().miniProgram.appId,
        package: 'affffddafdfafddffda==',
        success: (res) => {
            // res.err_msg将在页面展示成功后返回应用时返回ok，并不代表付款成功
            console.log('success:', res);
        },
        fail: (res) => {
            console.log('fail:', res);
        },
    });
} else {
    wx.showModal({
        content: '你的微信版本过低，请更新至最新版本。',
        showCancel: false,
    });
}
```
h5
```javascript
wx.config({
  // 参考：https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html
});
wx.ready(function () {
  wx.checkJsApi({
    jsApiList: ['requestMerchantTransfer'],
    success: function (res) {
      if (res.checkResult['requestMerchantTransfer']) {
        WeixinJSBridge.invoke('requestMerchantTransfer', {
            mchId: '1230000000',
            appId: 'wx8888888888888888',
            package: 'affffddafdfafddffda==',
          },
          function (res) {
            if (res.err_msg === 'requestMerchantTransfer:ok') {
              // res.err_msg将在页面展示成功后返回应用时返回success，并不代表付款成功
            }
          }
        );
      } else {
        alert('你的微信版本过低，请更新至最新版本。');
      }
    }
  });
});
```

<a id="sign_contract_paga_query6044"></a>
## 5.23 自由职业者签约分页查询

### 5.23.1 自由职业者签约分页查询前须知

!> 1. 按创建时间倒序查询，可根据最后一条offsetId查询下一页数据。

### 5.23.2 reqData 参数

| 字段       | 必填 | 类型   | 长度 | 说明                      |
| ---------- | ---- | ------ | ---- | ------------------------- |
| providerId | 是   | 数字   | 5    | 服务商 ID（联系客服获取） |
| createTimeBegin       | 是   | 字符串 | 19   | 签约创建时间开始（yyyy-MM-dd HH:mm:ss）             |
| createTimeEnd     | 是   | 字符串 | 19   | 签约创建时间结束（yyyy-MM-dd HH:mm:ss）       |
| state      | 是   | 数字   | 1    | 签约状态 0：未签约 1：已签约 3：签约中 4：签约失败 5：已解约。 |
| finishTimeBegin       | 否   | 字符串 | 19   | 签约完成时间开始（yyyy-MM-dd HH:mm:ss）             |
| finishTimeEnd     | 否   | 字符串 | 19   | 签约完成时间结束（yyyy-MM-dd HH:mm:ss）      |
| offsetId     | 否   | 字符串 | 24   | 偏移id       |


### 5.23.3 resData 参数

!> 返回数据为List。


| 字段       | 必填 | 类型   | 长度 | 说明                                                                             |
| ---------- | ---- | ------ | ---- | -------------------------------------------------------------------------------- |
| name       | 是   | 字符串 | 25   | 姓名                                                                             |
| cardNo     | 是   | 字符串 | 25   | 银行卡号                                                                         |
| idCard     | 是   | 字符串 | 18   | 身份证号                                                                         |
| mobile     | 是   | 字符串 | 11   | 银行预留手机号                                                                   |
| state      | 是   | 数字   | 1    | 签约状态 0：未签约 1：已签约 3：签约中 4：签约失败 5：已解约。 |
| providerId | 是   | 数字   | 5    | 服务商 ID（联系客服获取）                                                        |
| offsetId     | 是   | 字符串 | 24   | 偏移id       |
| retMsg     | 否   | 字符串 | 25   | 失败原因                                                                         |

<a id="trial_calculate6006"></a>
## 5.24 连续劳务试算
### 5.24.1 连续劳务试算前须知

 1. 在结算前使用该接口查询自然人的税费情况，税费是基于当前结算情况进行的测算，试算数据不会落单，不会累计收入，可能与实际结算时有差异。
 2. 试算金额单位为分。
 3. 自由职业者信息单次上限50条，数据不可重复。

### 5.24.2 reqData 参数

| 字段       | 必填 | 类型   | 长度 | 说明                      |
| ---------- | ---- | ------ | ---- | ------------------------- |
| providerId | 是   | 数字   | 5    | 服务商 ID（联系客服获取） |
| ifReverse       | 否   | 布尔 | 5   | true 反算，false 正算 默认正算            |
| userList     | 是   | Object对象 | 50   |    自由职业者信息    |

#### 5.24.2.1 userList 字段

| 字段       | 必填 | 类型   | 长度  | 说明                                                   |
| ---------- | ---- | ------ |-----| ------------------------------------------------------ |
| merOrderId | 否   | 字符串 | 32  | 商户订单号                                             |
| name | 是   | 字符串 | 32  | 姓名                                             |
| idCardNo    | 是   | 字符串   | 18  | 身份证号               |
| amt        | 是   | 数字   | 10   | 试算金额（单位：分）                                         |


### 5.24.3 resData 参数

!> 返回数据为List。


| 字段       | 必填 | 类型   | 长度 | 说明                                                                             |
| ---------- | ---- | ------ | ---- | -------------------------------------------------------------------------------- |
| merOrderId | 否   | 字符串 | 32  | 商户订单号                                             |
| name       | 是   | 字符串 | 32   | 姓名                                                                             |
| idCardNo     | 是   | 字符串 | 18   | 身份证号                                                                         |
| providerId     | 是   | 数字 | 5   | 服务商ID                                                                       |
| amt      | 是   | 数字   | 10    | 试算金额（单位：分） |
| orderAmt      | 是   | 数字   | 10    | 支付金额（单位：分） |
| userFeeRatio | 是   | 数字   | 10    |  个税计税阶梯-预扣率（如3%  返回3）                         |
| userFee     | 是   | 数字 | 10   | 应纳税额（单位：分）     |
| vaTax     | 是   | 数字 | 10   | 增值税（单位：分）     |
| vaAddTax     | 是   | 数字 | 10   | 增值税附加（单位：分）     |
| userDueAmt     | 是   | 数字 | 10   | 实际到账金额（单位：分）|
| status     | 是   | 布尔 | 5   | 试算状态 true 试算成功 false 试算失败 |
| errMsg     | 是   | 字符串 | 128   | 试算失败原因 |

# 6 附录

## 6.1 响应码

| 代码 | 说明                               |
| -------- | -------------------------------------- |
| 0000     | 成功                                   |
| 6000     | 当前请求处理未明，请核实                           |
| 6001     | 参数错误                               |
| 6002     | 无效交易金额                           |
| 6003     | 客户信息不存在                         |
| 6004     | 客户状态未开通               |
| 6005     | 客户秘钥为空                       |
| 6006     | 请求数据验签失败                       |
| 6007     | 请求数据解密失败                       |
| 6008     | 商户在黑名单不允许交易                 |
| 6009     | 无客户风控信息                         |
| 6010     | 无客户账户信息或账户状态无效           |
| 6011     | 客户请求地址未配置白名单               |
| 6012     | 客户批次号重复,请确认批次信息                         |
| 6013     | 付款金额超限                           |
| 6014     | 信息入库失败                           |
| 6015     | 计算客户手续费出错或客户手续费率不存在 |
| 6016     | 该用户信息已经做过签约                 |
| 6017     | 客户付款方式未配置                     |
| 6018     | 客户未开通该权限                       |
| 6019     | 商户余额不足           |
| 6020     | 未查询到订单                           |
| 6021     | 客户未签约此落地服务公司                     |
| 6022     | 签约信息鉴权失败                       |
| 6023     | 对账文件不存在                         |
| 6024     | 姓名不能为空                           |
| 6025     | 身份证号不能为空                       |
| 6026     | 服务商 Id 不能为空                     |
| 6027     | 用户未在该服务商签约                   |
| 6028     | 未查询到对应的平台服务商                         |
| 6029     | 该平台服务商不可用                         |
| 6030     | 客户id不能为空                      |
| 6031     | 客户批次号不能为空                     |
| 6032     | 该客户批次号不存在                     |
| 6033     | 客户订单号或者订单流水号不存在         |
| 6034     | 付款总笔数和明细不一致                 |
| 6035     | 付款总金额和明细不一致                 |
| 6036     | 批量付款只能选择一个服务商             |
| 6037     | 该用户签约中                           |
| 6038     | 该客户不支持API接口签约              |
| 6039     | 服务商需要上传身份证正反面图片         |
| 6040     | 服务商需要上传任务编码                 |
| 6041     | 不存在该任务                           |
| 6042     | 请求频繁请稍后再试                     |
| 6043     | 三要素认证失败                  |
| 6044     | 该客户未签约此服务商                   |
| 6045     | 未查询到可开票类目信息           |
| 6046     | 未查询到该客户在该服务商开票信息       |
| 6047     | 该客户订单需要待风控审核后才能下发     |
| 6048     | 风控审核未通过                         |
| 6049     | 未查询到符合条件的记录                 |
| 6050     | 任务状态有误                           |
| 6051     | 客户订单号重复,请确认订单信息         |
| 6052     | 该客户不支持 API 接口                  |
| 6053     | 该客户费率未配置                         |
| 6054     | 充值订单号重复，请确认充值信息         |
| 6055     | 未查询到可充值金额                     |
| 6056     | 充值账号与平台不一致                   |
| 6057     | 充值金额大于可充值金额                 |
| 6058     | 批量付款只能选择一种代付方式           |
| 6059     | 客户管理费扣费方式与服务商不一致       |
| 6060     | 客户管理费费率方式与服务商不一致       |
| 6062     | 未查询到签约要素配置       |
| 6063     | 服务商配置未完成，请联系运营       |
| 6064     | 该企业不支持API,请联系运营       |
| 6065     | 暂不支持该通道余额查询和分账       |
| 6067     | 商户公钥格式错误       |
| 6093     | 未开通一键下发功能，请联系运营       |
| 6100     | 个人需手动确认收款，请在app或小程序发起       |
| 6101     | 校验签约，任务领取单等信息失败       |
| 6102     | 请求超时，请重试       |
| 6103     | 非待确认订单不可撤销       |
| 6104     | 当前时间不可结算,请稍后重试       |
| 6105     | 当前时间不可签约,请稍后重试       |
| 6220     | 暂无电子回单                           |

